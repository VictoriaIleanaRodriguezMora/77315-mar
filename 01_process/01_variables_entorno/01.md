# app.use(json()) y app.use(urlencoded({ extended: true }))

### app.use(json())
Traduce el "body" en formato JSON que viene en las peticiones HTTP

### app.use(express.urlencoded({ extended: true }))
Cuando enviamos un formulario web tradicional con `<form method="POST">`, los datos vienen en formato `nombre=Juan&edad=25`, esta línea los convierte a objetos JS


# ¿Qué es process?
process es una variable global viva en nuestra aplicación, donde vamos a poder consultar un montón de detalles del proceso que está corriendo en la app

tambien sirve para controlar

al ser un objeto global, no se necesita importar ninguna librería, simplemente lo llamamos y lo utilizamos

// El id de proceso se puede obtener en Administrador de tareas > Servicios

nuestro proceso es muy breve, y no llega a visualizarse en el listado. pero allí figuran los procesos de node.

# elementos importantes de process
el sistema operativo le asigna un ID, es al que tenemos acceso por medio de `process.pid`

`process.version` = node 01_process/-v

`process.platform` puede devolver 32 aunque sea de 64

`process.memoryUsage` uso de memoria referente al proceso

# Manejo de Argumentos
- Al correr la app con `node archivo.js`, le podemos pasar valores para que antes de ejecutar, al levantar el servidor, tenga en cuenta estos valores pasados por consola, para algo en particular

- no tiene limite de argumentos que se le puede pasar,

- esto se puede trabajar sin librerias, con tambien, que lo hacen mas simple

- ❗ `process.argv` ---> esta es la variable que contiene todos los argumentos que le pasemos por `cli`

**`por defecto`**, devuelve un array con 2 posiciones:
```bash
[
'C:\\Users\\27462901130\\AppData\\Roaming\\nvm\\v22.13.0\
\node.exe',
'C:\\Users\\27462901130\\Desktop\\virm\\backend_3\\argv.j
s'
]
```

1) el 1° es donde está instalado el motor que está corriendo el programa en la pc: `node`
2) el 2° es la ubicacion del archivo donde se está ejecutando node, el directorio del archivo

si yo le paso algo más en la ejecución, lo agrega como una posicion más del array, tomando los espacios como posiciones

```bash
node argv.js hola holaquetal
```
```bash
[
'C:\\Users\\27462901130\\AppData\\Roaming\\nvm\\v22.13.0\\node.exe'
,
'C:\\Users\\27462901130\\Desktop\\virm\\backend_3\\argv.js',
'hola',
'holaquetal'
]
```

- algo útil es pasar el puerto, el entorno que quiero ejecutar.
los números se pasan cómo string

```bash
node argv.js 8080
```
```js
const PORT = process.argv[2] || 8080;
```

- de esta manera, si no le paso por cli valor, no da error

❗ se puede hacer un `slice` para limpiar las primeras 2 posiciones, y trabajar con la posicion 0.


# Argumentos en consola

# Procesamiento de argumentos con Commander 
### Instalación de commander
```bash
npm i commander
```

con commander se le puede dar un `flag` a los parametros

```js
commander.option("-p <port>", "port server", 8080)
```

puedo concatenar y agregar todos los que necesite

```js
node 03-commander.js -p 8081 -m prod a b c d
`node 03-commander.js -p 8081 -m prod a b c d
error: unknown option '-m'`

node 03-commander.js -p 8081 -e prod a b c d
```

# ❗ en las version 7 en adelante de commander no se pueden enviar parametros sueltos

- se debe agregar:
```js
commander.argument('[args...]', 'argumentos no definidos')
.option ...
```

```js
console.log(commander.opts()); // devuelve todos los comandos configurados en forma de objeto
```
```js
// ⬆️ OUTPUT: { p: '8081', e: 'prod' }
```

```js
console.log(commander.args); // los argumentos sueltos que le envío, porque puedo pasar argumentos sin flasgs que tenga configurado. sigo teniendo acceso a ellos en un array
```
```js
// ⬆️ OUPUT: [ 's' ]
```

# Manejo de variables de entorno
# dotenv

### Instalación de `dotenv`
```bash
npm i dotenv
```

`dotenv` me va a permitir definir en un archivo `.env` pueda tener **mis variables de entorno** y que cuando ejecute la aplicacion, dotenv las va a cargar en el objeto `process.env `

- `dotenv` **busca** el archivo `.env` y las carga en el objeto `process.env`

- es  util para datos sensibles, para datos que cambian por ambiente 
# Múltiples entornos

